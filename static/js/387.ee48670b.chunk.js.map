{"version":3,"file":"static/js/387.ee48670b.chunk.js","mappings":"sLAEaA,E,QAASC,GAAAA,OAAH,iZACN,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IACK,SAAAF,GAAC,OAAIA,EAAEC,MAAME,MAAMC,MAAlB,IAET,SAAAJ,GAAC,OAAIA,EAAEC,MAAMI,OAAOC,KAAnB,IACU,SAAAN,GAAC,OAAIA,EAAEC,MAAMI,OAAOE,OAAnB,IACP,SAAAP,GAAC,OAAIA,EAAEC,MAAMO,OAAOC,KAAnB,IAGA,SAAAT,GAAC,OAAIA,EAAEC,MAAMS,YAAYC,IAAxB,IACD,SAAAX,GAAC,OAAIA,EAAEC,MAAMO,OAAOC,KAAnB,I,SCDlB,EARsB,SAAC,GAA0B,IAAxBG,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,KACnC,OACE,SAAC,EAAD,CAAWA,KAAMA,EAAMC,QAASH,EAAhC,SACGC,GAGN,C,mMCPYG,EAAOjB,EAAAA,GAAAA,KAAH,iFACN,SAAAC,GAAC,OAAIA,EAAEC,MAAMI,OAAOE,OAAnB,IACK,SAAAP,GAAC,OAAIA,EAAEC,MAAMS,YAAYC,IAAxB,IACD,SAAAX,GAAC,OAAIA,EAAEC,MAAMO,OAAOC,KAAnB,IAGLQ,EAAMlB,EAAAA,GAAAA,IAAH,4GAGE,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IAEA,SAAAF,GAAC,OAAIA,EAAEC,MAAME,MAAMC,MAAlB,IAGPc,EAAKnB,EAAAA,GAAAA,GAAH,4GAEF,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IAEK,SAAAF,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IACJ,SAAAF,GAAC,OAAIA,EAAEC,MAAMO,OAAOC,KAAnB,IAGJU,EAAIpB,EAAAA,GAAAA,EAAH,uGAEH,SAAAC,GAAC,OAAIA,EAAEC,MAAMI,OAAOE,OAAnB,IACK,SAAAP,GAAC,OAAIA,EAAEC,MAAMS,YAAYC,IAAxB,I,6BCjBZS,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGCC,EAAU,WACrB,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAA4BJ,EAAAA,EAAAA,UAASJ,GAArC,eAAOS,EAAP,KAAeC,EAAf,MAEAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAUV,EAASK,GAChBM,MAAK,SAAAC,GAGJ,GAFAJ,EAAUV,GACSc,EAAKA,KAAKC,YACZR,EAAM,OAAOG,EAAUV,GAExCM,EAAWQ,EAAKA,KAAKE,SACrBN,EAAUV,EACX,IACAiB,OAAM,SAAAC,IACLC,EAAAA,EAAAA,IAAMD,EACP,GACJ,GAAE,CAAChB,EAASK,IAMb,OAAKF,GAGH,iCACE,UAACe,EAAA,EAAD,CAAKC,GAAG,KAAKzC,EAAG,EAAhB,UACG6B,IAAWT,IAAkB,SAACsB,EAAA,EAAD,IAC7BjB,EAAQkB,KACP,YAOO,IANaC,EAMd,EANJC,eAAkBD,YAClBE,EAKI,EALJA,QACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,GACAC,EACI,EADJA,OAEA,OACE,UAAC,EAAD,YACE,0BACE,SAAC,EAAD,CACEC,IACEP,EACIA,EAAYQ,SAAZ,QACER,EAAYS,MAAM,GADpB,yCAEoCT,GACpCU,EAENC,IAAI,cAIR,4BACE,0BACE,SAAC,EAAD,oBACC,IAAIC,KAAKT,GAAYU,mBAAmB,aAE3C,0BACE,SAAC,EAAD,sBADF,IAC8BP,MAE9B,0BACE,SAAC,EAAD,sBADF,IAC8BJ,MAE9B,0BACE,SAAC,EAAD,sBAA2B,IAC1B,IAAIU,KAAKR,GAAYS,mBAAmB,iBA3BnCR,EAgCf,OAGJpB,IAAWT,GAAmBK,EAAQiC,OAAS,KAAO,IACrD,SAAC5D,EAAA,EAAD,CAAQc,KAxDc,WAC1BgB,GAAQ,SAAA+B,GAAS,OAAIA,EAAY,CAAhB,GAClB,EAsDwC9C,KAAK,YAAYC,KAAK,eApD1C,SAAC,EAAD,4CAwDtB,EAED,G,+KCjGM8C,EAAU,mCAEhBC,IAAAA,SAAAA,QAHY,+BAKL,IAAMC,EAAY,SAACnC,GAAD,OACrBkC,IAAAA,IAAA,uCAA0CD,EAA1C,iBAA0DjC,GADrC,EAGZoC,EAAY,SAACC,EAAQrC,GAAT,OACrBkC,IAAAA,IAAA,gCAAmCD,EAAnC,iBAAmDjC,EAAnD,kBAAiEqC,GAD5C,EAGZC,EAAc,SAACC,GAAD,OACvBL,IAAAA,IAAA,iBAAoBK,EAApB,oBAAuCN,GADhB,EAGdO,EAAU,SAACD,GAAD,OACnBL,IAAAA,IAAA,iBAAoBK,EAApB,4BAA+CN,GAD5B,EAGV5B,EAAY,SAACkC,EAASvC,GAAV,OACrBkC,IAAAA,IAAA,iBAAoBK,EAApB,4BAA+CN,EAA/C,iBAA+DjC,GAD1C,C","sources":["components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Reviews/Reviews.styled.jsx","components/Reviews/Reviews.jsx","servises/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Button = styled.button`\n  padding: ${p => p.theme.space[3]}px;\n  border-radius: ${p => p.theme.radii.normal};\n  border: none;\n  color: ${p => p.theme.colors.white};\n  background-color: ${p => p.theme.colors.darkRed};\n  box-shadow: ${p => p.theme.shadow.black};\n  cursor: pointer;\n\n  font-weight: ${p => p.theme.fontWeights.bold};\n  text-shadow: ${p => p.theme.shadow.black};\n\n  transition-property: transform;\n  transition-timing-function: linear;\n  transition: fill 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover,\n  &:focus {\n    transform: scale(1.03);\n  }\n`;\n","import { PropTypes } from 'prop-types';\nimport * as SC from './Button.styled';\n\nexport const Button = ({ func, text, type }) => {\n  return (\n    <SC.Button type={type} onClick={func}>\n      {text}\n    </SC.Button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  func: PropTypes.func.isRequired,\n  text: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Span = styled.span`\n  color: ${p => p.theme.colors.darkRed};\n  font-weight: ${p => p.theme.fontWeights.bold};\n  text-shadow: ${p => p.theme.shadow.black};\n`;\n\nexport const Img = styled.img`\n  display: block;\n  width: 62px;\n  margin-right: ${p => p.theme.space[3]}px;\n\n  border-radius: ${p => p.theme.radii.normal};\n`;\n\nexport const Li = styled.li`\n  display: flex;\n  padding: ${p => p.theme.space[3]}px;\n\n  margin-bottom: ${p => p.theme.space[4]}px;\n  box-shadow: ${p => p.theme.shadow.black};\n`;\n\nexport const P = styled.p`\n  text-align: center;\n  color: ${p => p.theme.colors.darkRed};\n  font-weight: ${p => p.theme.fontWeights.bold};\n  font-size: 24px;\n`;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getReview } from '../../servises/api';\nimport Loader from 'components/Loader/Loader';\nimport Template from '../../constants/TemplateUser.png';\nimport Button from '../Button/Button';\nimport * as SC from './Reviews.styled';\nimport { toast } from 'react-toastify';\nimport { Box } from '../../constants/Box';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport const Reviews = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState('');\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    getReview(movieId, page)\n      .then(data => {\n        setStatus(Status.PENDING);\n        const totalPages = data.data.total_pages;\n        if (totalPages < page) return setStatus(Status.REJECTED);\n\n        setReviews(data.data.results);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        toast(error);\n      });\n  }, [movieId, page]);\n\n  const handleIncrementPage = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  if (!reviews) return <SC.P>Sorry, there are no reviews :(</SC.P>;\n\n  return (\n    <>\n      <Box as=\"ul\" p={4}>\n        {status === Status.PENDING && <Loader />}\n        {reviews.map(\n          ({\n            author_details: { avatar_path },\n            content,\n            created_at,\n            updated_at,\n            id,\n            author,\n          }) => {\n            return (\n              <SC.Li key={id}>\n                <div>\n                  <SC.Img\n                    src={\n                      avatar_path\n                        ? avatar_path.includes(`http`)\n                          ? avatar_path.slice(1)\n                          : `https://image.tmdb.org/t/p/w500${avatar_path}`\n                        : Template\n                    }\n                    alt=\"author\"\n                  />\n                </div>\n\n                <div>\n                  <p>\n                    <SC.Span>date:</SC.Span>\n                    {new Date(created_at).toLocaleDateString('en-GB')}\n                  </p>\n                  <p>\n                    <SC.Span>author:</SC.Span> {author}\n                  </p>\n                  <p>\n                    <SC.Span>review:</SC.Span> {content}\n                  </p>\n                  <p>\n                    <SC.Span>update:</SC.Span>{' '}\n                    {new Date(updated_at).toLocaleDateString('en-GB')}\n                  </p>\n                </div>\n              </SC.Li>\n            );\n          }\n        )}\n      </Box>\n      {status === Status.RESOLVED && reviews.length % 20 === 0 && (\n        <Button func={handleIncrementPage} text=\"Load more\" type=\"button\" />\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nconst URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'c01f14dcdb58e9cec669b1017a4d540c';\n\naxios.defaults.baseURL = URL;\n\nexport const getMovies = (page) =>\n    axios.get(`/trending/movie/week?api_key=${API_KEY}&page=${page}`);\n\nexport const getSearch = (search, page) =>\n    axios.get(`/search/movie?api_key=${API_KEY}&page=${page}&query=${search}`)\n\nexport const getOneMovie = (movieID) =>\n    axios.get(`/movie/${movieID}?api_key=${API_KEY}`);\n\nexport const getCast = (movieID) =>\n    axios.get(`/movie/${movieID}/credits?api_key=${API_KEY}`);\n\nexport const getReview = (movieID, page) =>\n    axios.get(`/movie/${movieID}/reviews?api_key=${API_KEY}&page=${page}`);\n"],"names":["Button","styled","p","theme","space","radii","normal","colors","white","darkRed","shadow","black","fontWeights","bold","func","text","type","onClick","Span","Img","Li","P","Status","Reviews","movieId","useParams","useState","reviews","setReviews","page","setPage","status","setStatus","useEffect","getReview","then","data","total_pages","results","catch","error","toast","Box","as","Loader","map","avatar_path","author_details","content","created_at","updated_at","id","author","src","includes","slice","Template","alt","Date","toLocaleDateString","length","prevState","API_KEY","axios","getMovies","getSearch","search","getOneMovie","movieID","getCast"],"sourceRoot":""}